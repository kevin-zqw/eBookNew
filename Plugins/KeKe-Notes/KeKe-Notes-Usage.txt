KeKe-Notes插件修改及使用说明

1. 要求注释不同跨页，请自行手工检查

2. <a id="idxx" href="../Text/abc.xhtml#hrefxx"><sup></sup></a>
替换为
[[idxx:hrefxx]]

3. <p class="note"><a id="idxx" href="../Text/abc.xhtml#hrefxx"> 注释内容</p>
替换为
<p>[[idxx:hrefxx]]注释内容</p>

4. 运行插件，将会自动处理所有注释，并保持原有的id和href对应关系



原先插件存在的几个问题，一定程度上已经修复：
1. [\d+]很容易和正文冲突，导致注释错位，现改为[[]]，降低出错可能性
2. 注释的id和href丢失，使用1-N编号，一旦epub中的注释没有按数字排序，将会出现错位，
修改后的插件，要求正则替换时，保留原有的id和href，基本不会出错
3. 注释多的时候，替换不完全，存在注释丢失的现象；修改后的插件在《海明威全集》中使用，
成功地完成了3651个注释的修改
4. 插件不再修改html和header，也不再往每个xhtml中添加main.css样式文件的引用，
因为一般已经手工为epub添加过main.css文件。
5. 插件会添加一个footnote.css样式文件（原先新增的是main.css，与epub原有样式文件冲突），
里面有插件支持相关的代码，请手工将代码移到main.css，并进行合并和修改；合并之后删除footnote.css即可。

Kevin
2019-07-18
